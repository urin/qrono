"use strict";var _=Object.defineProperty;var k=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var R=(t,e,n)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||(e={}))K.call(e,n)&&R(t,n,e[n]);if(k)for(var n of k(e))tt.call(e,n)&&R(t,n,e[n]);return t};Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const et=new Date(1915,0,1,12,0,0,0),T=7,L=24,b=60,$=b*L,B=60,nt=B*b,it=nt*L,x=1e3,z=B*x,A=it*x,Q=1,Z=2,C=3,M=4,q=5,V=6,G=7;function w(t,...e){return e.flat().some(t.hasOwnProperty,t)}function Y(t){return Object.entries(t).filter(([,e])=>!ot(e)).map(([e])=>e)}function y(t){return t!==void 0}function ot(t){return t instanceof Function}function rt(t){return typeof t=="string"||t instanceof String}function N(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function J(t){return!isNaN(t.getTime())}function U(t){return w(t,["year","month","day","hour","minute","second","millisecond"])}function E(t,e){const n=e.getTime(),c=new Date(n),a=new Date(n),r=t?1:-1;a.setDate(e.getDate()+r);const u=a.getTimezoneOffset()-e.getTimezoneOffset();if(t&&u<0||!t&&u>0){const m=new Date(n).setMinutes(e.getMinutes()+r*u),p=new Date(n).setUTCMinutes(e.getUTCMinutes()+r*u);m!==p&&(m-p)/z!==u&&c.setUTCMinutes(e.getUTCMinutes()+r*u)}return c}const v=i;i.date=o;const g={localtime:!1,ambiguousAsDst:!1};Y(g).forEach(t=>{i[t]=function(e){return y(e)?(g[t]=e,this):g[t]}});i.context=function(t){return y(t)?(Y(g).filter(e=>w(t,e)).forEach(e=>{g[e]=t[e]}),this):F({},g)};i.asUtc=function(){return g.localtime=!1,this};i.asLocaltime=function(){return g.localtime=!0,this};Object.assign(i,{monday:Q,tuesday:Z,wednesday:C,thursday:M,friday:q,saturday:V,sunday:G});const s=Symbol("Qrono.internal");function i(...t){var a;if(!new.target)return new i(...t);const e=this[s]={nativeDate:null,localtime:!1,ambiguousAsDst:!1,set:ct,parse:ht,valid:st,context:at,getNative:ut};if(e.context(g),t[0]instanceof i){const r=t.shift();Y(e).forEach(u=>{e[u]=r[u]()})}N(t[0])&&!U(t[0])&&e.context(t.shift());const n=t[0],c=t[1];if(n==null)(a=e.nativeDate)!=null||(e.nativeDate=new Date);else if(n instanceof Date)e.nativeDate=new Date(n.getTime());else if(rt(n))e.parse(n);else if(N(n)){if(!U(n))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");e.set(n)}else if(Number.isFinite(n)&&!Number.isFinite(c))e.nativeDate=new Date(n);else if(Number.isFinite(n)||Array.isArray(n)){const r=t.flat().filter(u=>Number.isSafeInteger(u));if(r.length!==t.flat().length)throw RangeError("Should be safe integers");if(r.length>7)throw RangeError("Too many numbers");e.set({year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]})}else throw TypeError(`Invalid argument ${t}`);return this}function st(){return J(this.nativeDate)}function at(t){if(t)return Y(g).filter(e=>w(t,e)).forEach(e=>{this[e]=t[e]}),this}function ut(t){return this.nativeDate[`get${this.localtime?"":"UTC"}${t}`]()}function ct(t){var n,c,a,r,u,m,p,l,d,D,O,I,H,P,j,W;const e=F({},t);if(e.month=e.month&&e.month-1,this.localtime){const f=(n=this.nativeDate)!=null?n:new Date(0,0),S=new Date(et.getTime());S.setFullYear((c=e.year)!=null?c:f.getFullYear(),(a=e.month)!=null?a:f.getMonth(),(r=e.day)!=null?r:f.getDate()),S.setHours((u=e.hour)!=null?u:f.getHours(),(m=e.minute)!=null?m:f.getMinutes(),(p=e.second)!=null?p:f.getSeconds(),(l=e.millisecond)!=null?l:f.getMilliseconds()),this.nativeDate=E(this.ambiguousAsDst,S)}else{const f=(d=this.nativeDate)!=null?d:new Date(0),S=new Date(0);S.setUTCFullYear((D=e.year)!=null?D:f.getUTCFullYear(),(O=e.month)!=null?O:f.getUTCMonth(),(I=e.day)!=null?I:f.getUTCDate()),S.setUTCHours((H=e.hour)!=null?H:f.getUTCHours(),(P=e.minute)!=null?P:f.getUTCMinutes(),(j=e.second)!=null?j:f.getUTCSeconds(),(W=e.millisecond)!=null?W:f.getUTCMilliseconds()),this.nativeDate=S}return this}const ft=new RegExp("^(\\d{4})(?:[-/]?([0-2]?\\d)(?:[-/]?([0-3]?\\d))?)?(?:[T\\s]([0-2]?\\d)(?::([0-5]?\\d)?(?::([0-6]?\\d)?(?:[.:](\\d{1,3})?\\d*)?)?)?)?(Z|[-+]\\d{2}:?\\d{2})?$");function ht(t){var O;const e=t.trim().toUpperCase(),n=e.match(ft);if(!n)throw RangeError(`Failed to parse '${t}'. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);const[c,a,r,u,m,p,l,d]=[+n[1],+n[2]||1,+n[3]||1,+n[4]||0,+n[5]||0,+n[6]||0,+((O=n[7])==null?void 0:O.padStart(3,"0"))||0,n[8]],D=new Date(e);if(!J(D))throw RangeError(`Failed to parse '${t}' by Date. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);return d?this.nativeDate=D:this.localtime?this.nativeDate=E(this.ambiguousAsDst,D):this.set({year:c,month:a,day:r,hour:u,minute:m,second:p,millisecond:l}),this}i.prototype.toString=function(){if(this[s].localtime){const t=this[s].nativeDate,e=-t.getTimezoneOffset(),n=Math.abs(e);return`${String(t.getFullYear()).padStart(4,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}T${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}.${String(t.getMilliseconds()).padStart(3,"0")}${(e>=0?"+":"-")+String(Math.trunc(n/b)).padStart(2,"0")+":"+String(n%b).padStart(2,"0")}`}return this[s].nativeDate.toISOString()};i.prototype.valueOf=function(){return this[s].nativeDate.valueOf()};i.prototype.clone=function(...t){return new i(this,...t)};i.prototype.context=function(t){return y(t)?this.clone(t):{localtime:this[s].localtime,ambiguousAsDst:this[s].ambiguousAsDst}};i.prototype.nativeDate=function(){return new Date(this[s].nativeDate.getTime())};i.prototype.offset=function(){return this[s].localtime?-this[s].nativeDate.getTimezoneOffset():0};i.prototype.localtime=function(t){return y(t)?this.clone({localtime:t}):this[s].localtime};i.prototype.ambiguousAsDst=function(t){return y(t)?this.clone({ambiguousAsDst:t}):this[s].ambiguousAsDst};i.prototype.valid=function(){return this[s].valid()};i.prototype.numeric=function(){return this[s].nativeDate.getTime()};i.prototype.toObject=function(){return{year:this.year(),month:this.month(),day:this.day(),hour:this.hour(),minute:this.minute(),second:this.second(),millisecond:this.millisecond()}};i.prototype.toArray=function(){return[this.year(),this.month(),this.day(),this.hour(),this.minute(),this.second(),this.millisecond()]};i.prototype.toDate=function(...t){return new o(this.clone(...t))};i.prototype.asUtc=function(){return this.clone({localtime:!1})};i.prototype.asLocaltime=function(){return this.clone({localtime:!0})};i.prototype.year=function(t){return y(t)?this.clone({year:t}):this[s].getNative("FullYear")};i.prototype.month=function(t){return y(t)?this.clone({month:t}):this[s].getNative("Month")+1};i.prototype.day=function(t){return y(t)?this.clone({day:t}):this[s].getNative("Date")};i.prototype.hour=function(t){return y(t)?this.clone({hour:t}):this[s].getNative("Hours")};i.prototype.minute=function(t){return y(t)?this.clone({minute:t}):this[s].getNative("Minutes")};i.prototype.second=function(t){return y(t)?this.clone({second:t}):this[s].getNative("Seconds")};i.prototype.millisecond=function(t){return y(t)?this.clone({millisecond:t}):this[s].getNative("Milliseconds")};i.prototype.dayOfWeek=function(){return 1+(this[s].getNative("Day")-1+T)%T};i.prototype.dayOfYear=function(){const t=this.toDate();return 1+t-t.startOfYear()};i.prototype.weekOfYear=function(){const t=this.toDate(),e=t.day(t.day()-t.dayOfWeek()+M),n=e.startOfYear(),c=n.dayOfWeek()===M?n:n.day(1+(M-n.dayOfWeek()+T)%T);return 1+Math.ceil((e-c)/T)};i.prototype.yearOfWeek=function(){const t=this.toDate();return t.day(t.day()-t.dayOfWeek()+M).year()};i.prototype.isLeapYear=function(){const t=this.year();return t%4===0&&(t%100!==0||t%400===0)};i.prototype.hasDstInYear=function(){if(!this[s].localtime)return!1;const t=this.offset();return[3,6,9,12].map(e=>this.month(e).offset()).some(e=>e!==t)};i.prototype.isInDst=function(){return this[s].localtime?this.offset()===Math.max(...[3,6,9,12].map(t=>this.month(t).offset())):!1};i.prototype.isDstTransitionDay=function(){return this[s].localtime?this.minutesInDay()!==$:!1};i.prototype.minutesInDay=function(){if(!this[s].localtime)return $;const t=this.startOfDay(),e=t.plus({day:1}).startOfDay();return t.day()===e.day()?$:(e-t)/z};i.prototype.daysInMonth=function(){const t=[31,28,31,30,31,30,31,31,30,31,30,31],e=this.month();return t[e-1]+(this.isLeapYear()&&e===2?1:0)};i.prototype.daysInYear=function(){return this.isLeapYear()?366:365};i.prototype.weeksInYear=function(){const t=this.toDate({month:12,day:31}),e=t.minus({year:1});return t.dayOfWeek()===M||e.dayOfWeek()===C?53:52};i.prototype.startOfYear=function(){return this.clone({month:1,day:1,hour:0,minute:0,second:0,millisecond:0})};i.prototype.startOfMonth=function(){return this.clone({day:1,hour:0,minute:0,second:0,millisecond:0})};i.prototype.startOfDay=function(){return this.clone({hour:0,minute:0,second:0,millisecond:0})};i.prototype.startOfHour=function(){return this.clone({minute:0,second:0,millisecond:0})};i.prototype.startOfMinute=function(){return this.clone({second:0,millisecond:0})};i.prototype.startOfSecond=function(){return this.clone({millisecond:0})};i.prototype.isSame=function(t){return+this==+t};i.prototype.isBefore=function(t){return this<t};i.prototype.isAfter=function(t){return this>t};i.prototype.isSameOrBefore=function(t){return this<=t};i.prototype.isSameOrAfter=function(t){return this>=t};i.prototype.isBetween=function(t,e){return t<=this&&this<=e||e<=this&&this<=t};i.prototype.plus=function(...t){return X.call(this,1,...t)};i.prototype.minus=function(...t){return X.call(this,-1,...t)};function X(t,...e){var m,p;const n=e[0],c=e[1];if(Number.isFinite(n)&&!Number.isFinite(c))return this.clone(this.numeric()+n);let a=null;if(N(n)){if(!U(n))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");a=n}else if(Number.isFinite(n)||Array.isArray(n)){const l=e.flat().filter(d=>Number.isSafeInteger(d));if(l.length!==e.flat().length)throw RangeError("Should be safe integers");if(l.length>7)throw RangeError("Too many numbers");a={year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5],millisecond:e[6]}}else throw TypeError();const r=this.nativeDate(),u=this[s].localtime?"":"UTC";if(w(a,"year")||w(a,"month")){const l=this.year()+t*((m=a.year)!=null?m:0),d=this.month()+t*((p=a.month)!=null?p:0),D=new Date(r.getTime());D[`set${u}FullYear`](l,d,0);const O=D.getDate();O<this.day()?r[`set${u}FullYear`](l,D[`get${u}Month`](),O):r[`set${u}FullYear`](l,d-1)}return w(a,"day")&&r[`set${u}Date`](r[`get${u}Date`]()+t*a.day),[["hour","Hours"],["minute","Minutes"],["second","Seconds"],["millisecond","Milliseconds"]].forEach(([l,d])=>{w(a,l)&&r[`setUTC${d}`](r[`getUTC${d}`]()+t*a[l])}),this.clone(E(this[s].ambiguousAsDst,r))}const h=Symbol("QronoDate.internal");function o(...t){if(!new.target)return new o(...t);const e=this[h]={datetime:null};let n=null;t[0]instanceof o&&(n=t.shift().toDatetime());const c=t[0],a=t[1];return Number.isFinite(c)&&!Number.isFinite(a)&&(t[0]*=A),n=(n?n.clone(...t):v(...t)).startOfDay(),e.datetime=v({localtime:!1},n.toObject()),this}o.prototype.toString=function(){return this[h].datetime.toString().substring(0,10)};o.prototype.valueOf=function(){return this[h].datetime/A};o.prototype.valid=function(){return this[h].datetime.valid()};o.prototype.clone=function(...t){return new o(this,...t)};o.prototype.toDatetime=function(){return v(this[h].datetime.toArray())};o.prototype.numeric=function(){return this[h].datetime.numeric()/A};o.prototype.toObject=function(){return{year:this.year(),month:this.month(),day:this.day()}};o.prototype.toArray=function(){return[this.year(),this.month(),this.day()]};o.prototype.startOfYear=function(){return new o(this[h].datetime.startOfYear())};o.prototype.startOfMonth=function(){return new o(this[h].datetime.startOfMonth())};o.prototype.startOfDay=function(){return this[h].datetime.clone()};["year","month","day"].forEach(t=>{o.prototype[t]=function(e){return y(e)?new o(this[h].datetime[t](e)):this[h].datetime[t]()}});["dayOfWeek","dayOfYear","weekOfYear","yearOfWeek","isLeapYear","daysInMonth","daysInYear","weeksInYear"].forEach(t=>{o.prototype[t]=function(){return this[h].datetime[t]()}});["minutesInDay","hasDstInYear","isDstTransitionDay"].forEach(t=>{o.prototype[t]=function(){return this[h].datetime.localtime(!0)[t]()}});o.prototype.endOfYear=function(){return this.clone({month:12,day:31})};o.prototype.endOfMonth=function(){return this.clone({day:this.daysInMonth()})};o.prototype.isSame=function(t){return+this==+t};o.prototype.isBefore=function(t){return this<t};o.prototype.isAfter=function(t){return this>t};o.prototype.isSameOrBefore=function(t){return this<=t};o.prototype.isSameOrAfter=function(t){return this>=t};o.prototype.isBetween=function(t,e){return t<=this&&this<=e||e<=this&&this<=t};o.prototype.plus=function(...t){return this[h].datetime.plus(...t).toDate()};o.prototype.minus=function(...t){return this[h].datetime.minus(...t).toDate()};exports.friday=q;exports.monday=Q;exports.qrono=v;exports.saturday=V;exports.sunday=G;exports.thursday=M;exports.tuesday=Z;exports.wednesday=C;
//# sourceMappingURL=qrono.cjs.map

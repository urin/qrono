(()=>{var m=7,P=24,_=P*m,S=60,O=S*P,K=O*m,H=60,j=H*S,R=j*P,Q=R*m,x=1e3,N=H*x,tt=j*x,b=R*x,et=Q*x,U=1,C=2,$=3,y=4,A=5,E=6,W=7;function D(t,...e){return e.flat().some(t.hasOwnProperty,t)}function w(t){return Object.entries(t).filter(([,e])=>!Z(e)).map(([e])=>e)}function l(t){return t!==void 0}function Z(t){return t instanceof Function}function L(t){return typeof t=="string"||t instanceof String}function v(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function I(t){return!isNaN(t.getTime())}function Y(t){return D(t,["year","month","day","hour","minute","second","millisecond"])}function T(t,e){let n=e.getTime(),u=new Date(n),i=new Date(n),a=t?1:-1;i.setDate(e.getDate()+a);let c=i.getTimezoneOffset()-e.getTimezoneOffset();if(t&&c<0||!t&&c>0){let h=new Date(n).setMinutes(e.getMinutes()+a*c),d=new Date(n).setUTCMinutes(e.getUTCMinutes()+a*c);h!==d&&(h-d)/N!==c&&u.setUTCMinutes(e.getUTCMinutes()+a*c)}return u}var k=o;o.date=s;var p={localtime:!1,ambiguousAsDst:!1};w(p).forEach(t=>{o[t]=function(e){return l(e)?(p[t]=e,this):p[t]}});o.context=function(t){return l(t)?(w(p).filter(e=>D(t,e)).forEach(e=>{p[e]=t[e]}),this):{...p}};o.asUtc=function(){return p.localtime=!1,this};o.asLocaltime=function(){return p.localtime=!0,this};Object.assign(o,{monday:U,tuesday:C,wednesday:$,thursday:y,friday:A,saturday:E,sunday:W});var r=Symbol("Qrono.internal");function o(...t){if(!new.target)return new o(...t);let e=this[r]={nativeDate:null,localtime:!1,ambiguousAsDst:!1,set:G,parse:X,valid:B,context:V,getNative:q};if(e.context(p),t[0]instanceof o){let i=t.shift();w(e).forEach(a=>{e[a]=i[a]()})}v(t[0])&&!Y(t[0])&&e.context(t.shift());let n=t[0],u=t[1];if(n==null)e.nativeDate??=new Date;else if(n instanceof Date)e.nativeDate=new Date(n.getTime());else if(L(n))e.parse(n);else if(v(n)){if(!Y(n))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");e.set(n)}else if(Number.isFinite(n)&&!Number.isFinite(u))e.nativeDate=new Date(n);else if(Number.isFinite(n)||Array.isArray(n)){let i=t.flat().filter(a=>Number.isSafeInteger(a));if(i.length!==t.flat().length)throw RangeError("Should be safe integers");if(i.length>7)throw RangeError("Too many numbers");e.set({year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]})}else throw TypeError(`Invalid argument ${t}`);return this}function B(){return I(this.nativeDate)}function V(t){if(t)return w(p).filter(e=>D(t,e)).forEach(e=>{this[e]=t[e]}),this}function q(t){return this.nativeDate[`get${this.localtime?"":"UTC"}${t}`]()}function G(t){let e={...t};if(!this.nativeDate||e.year!=null){let u=new Date;return this.localtime?this.nativeDate=T(this.ambiguousAsDst,new Date(`${(e.year??u.getFullYear()).toString().padStart(4,"0")}-${(e.month??1).toString().padStart(2,"0")}-${(e.day??1).toString().padStart(2,"0")}T${(e.hour??0).toString().padStart(2,"0")}:${(e.minute??0).toString().padStart(2,"0")}:${(e.second??0).toString().padStart(2,"0")}.${(e.millisecond??0).toString().padStart(3,"0")}`)):this.nativeDate=new Date(`${(e.year??u.getUTCFullYear()).toString().padStart(4,"0")}-${(e.month??1).toString().padStart(2,"0")}-${(e.day??1).toString().padStart(2,"0")}T${(e.hour??0).toString().padStart(2,"0")}:${(e.minute??0).toString().padStart(2,"0")}:${(e.second??0).toString().padStart(2,"0")}.${(e.millisecond??0).toString().padStart(3,"0")}Z`),this}e.month=e.month&&e.month-1;let n=this.nativeDate;return this.localtime?this.nativeDate=T(this.ambiguousAsDst,new Date(e.year??n.getFullYear(),e.month??n.getMonth(),e.day??n.getDate(),e.hour??n.getHours(),e.minute??n.getMinutes(),e.second??n.getSeconds(),e.millisecond??n.getMilliseconds())):this.nativeDate=new Date(Date.UTC(e.year??n.getUTCFullYear(),e.month??n.getUTCMonth(),e.day??n.getUTCDate(),e.hour??n.getUTCHours(),e.minute??n.getUTCMinutes(),e.second??n.getUTCSeconds(),e.millisecond??n.getUTCMilliseconds())),this}var J=new RegExp("^(\\d{4})(?:[-/]?([0-2]?\\d)(?:[-/]?([0-3]?\\d))?)?(?:[T\\s]([0-2]?\\d)(?::([0-5]?\\d)?(?::([0-6]?\\d)?(?:[.:](\\d{1,3})?\\d*)?)?)?)?(Z|[-+]\\d{2}:?\\d{2})?$");function X(t){let e=t.trim().toUpperCase(),n=e.match(J);if(!n)throw RangeError(`Failed to parse '${t}'. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);let[u,i,a,c,h,d,g,M]=[+n[1],+n[2]||1,+n[3]||1,+n[4]||0,+n[5]||0,+n[6]||0,+n[7]?.padStart(3,"0")||0,n[8]],F=new Date(e);if(!I(F))throw RangeError(`Failed to parse '${t}' by Date. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);return M?this.nativeDate=F:this.localtime?this.nativeDate=T(this.ambiguousAsDst,F):this.set({year:u,month:i,day:a,hour:c,minute:h,second:d,millisecond:g}),this}o.prototype.toString=function(){if(this[r].localtime){let t=this[r].nativeDate,e=-t.getTimezoneOffset(),n=Math.abs(e);return`${String(t.getFullYear()).padStart(4,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}T${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}.${String(t.getMilliseconds()).padStart(3,"0")}${(e>=0?"+":"-")+String(Math.trunc(n/S)).padStart(2,"0")+":"+String(n%S).padStart(2,"0")}`}return this[r].nativeDate.toISOString()};o.prototype.valueOf=function(){return this[r].nativeDate.valueOf()};o.prototype.clone=function(...t){return new o(this,...t)};o.prototype.context=function(t){return l(t)?this.clone(t):{localtime:this[r].localtime,ambiguousAsDst:this[r].ambiguousAsDst}};o.prototype.nativeDate=function(){return new Date(this[r].nativeDate.getTime())};o.prototype.offset=function(){return this[r].localtime?-this[r].nativeDate.getTimezoneOffset():0};o.prototype.localtime=function(t){return l(t)?this.clone({localtime:t}):this[r].localtime};o.prototype.ambiguousAsDst=function(t){return l(t)?this.clone({ambiguousAsDst:t}):this[r].ambiguousAsDst};o.prototype.valid=function(){return this[r].valid()};o.prototype.numeric=function(){return this[r].nativeDate.getTime()};o.prototype.toObject=function(){return{year:this.year(),month:this.month(),day:this.day(),hour:this.hour(),minute:this.minute(),second:this.second(),millisecond:this.millisecond()}};o.prototype.toArray=function(){return[this.year(),this.month(),this.day(),this.hour(),this.minute(),this.second(),this.millisecond()]};o.prototype.toDate=function(...t){return new s(this.clone(...t))};o.prototype.asUtc=function(){return this.clone({localtime:!1})};o.prototype.asLocaltime=function(){return this.clone({localtime:!0})};o.prototype.year=function(t){return l(t)?this.clone({year:t}):this[r].getNative("FullYear")};o.prototype.month=function(t){return l(t)?this.clone({month:t}):this[r].getNative("Month")+1};o.prototype.day=function(t){return l(t)?this.clone({day:t}):this[r].getNative("Date")};o.prototype.hour=function(t){return l(t)?this.clone({hour:t}):this[r].getNative("Hours")};o.prototype.minute=function(t){return l(t)?this.clone({minute:t}):this[r].getNative("Minutes")};o.prototype.second=function(t){return l(t)?this.clone({second:t}):this[r].getNative("Seconds")};o.prototype.millisecond=function(t){return l(t)?this.clone({millisecond:t}):this[r].getNative("Milliseconds")};o.prototype.dayOfWeek=function(){return 1+(this[r].getNative("Day")-1+m)%m};o.prototype.dayOfYear=function(){let t=this.toDate();return 1+t-t.startOfYear()};o.prototype.weekOfYear=function(){let t=this.toDate(),e=t.day(t.day()-t.dayOfWeek()+y),n=e.startOfYear(),u=n.dayOfWeek()===y?n:n.day(1+(y-n.dayOfWeek()+m)%m);return 1+Math.ceil((e-u)/m)};o.prototype.yearOfWeek=function(){let t=this.toDate();return t.day(t.day()-t.dayOfWeek()+y).year()};o.prototype.isLeapYear=function(){let t=this.year();return t%4===0&&(t%100!==0||t%400===0)};o.prototype.hasDstInYear=function(){if(!this[r].localtime)return!1;let t=this.offset();return[3,6,9,12].map(e=>this.month(e).offset()).some(e=>e!==t)};o.prototype.isInDst=function(){return this[r].localtime?this.offset()===Math.max(...[3,6,9,12].map(t=>this.month(t).offset())):!1};o.prototype.isDstTransitionDay=function(){return this[r].localtime?this.minutesInDay()!==O:!1};o.prototype.minutesInDay=function(){if(!this[r].localtime)return O;let t=this.startOfDay(),e=t.plus({day:1}).startOfDay();return t.day()===e.day()?O:(e-t)/N};o.prototype.daysInMonth=function(){let t=[31,28,31,30,31,30,31,31,30,31,30,31],e=this.month();return t[e-1]+(this.isLeapYear()&&e===2?1:0)};o.prototype.daysInYear=function(){return this.isLeapYear()?366:365};o.prototype.weeksInYear=function(){let t=this.toDate({month:12,day:31}),e=t.minus({year:1});return t.dayOfWeek()===y||e.dayOfWeek()===$?53:52};o.prototype.startOfYear=function(){return this.clone({month:1,day:1,hour:0,minute:0,second:0,millisecond:0})};o.prototype.startOfMonth=function(){return this.clone({day:1,hour:0,minute:0,second:0,millisecond:0})};o.prototype.startOfDay=function(){return this.clone({hour:0,minute:0,second:0,millisecond:0})};o.prototype.startOfHour=function(){return this.clone({minute:0,second:0,millisecond:0})};o.prototype.startOfMinute=function(){return this.clone({second:0,millisecond:0})};o.prototype.startOfSecond=function(){return this.clone({millisecond:0})};o.prototype.isSame=function(t){return+this==+t};o.prototype.isBefore=function(t){return this<t};o.prototype.isAfter=function(t){return this>t};o.prototype.isSameOrBefore=function(t){return this<=t};o.prototype.isSameOrAfter=function(t){return this>=t};o.prototype.isBetween=function(t,e){return t<=this&&this<=e||e<=this&&this<=t};o.prototype.plus=function(...t){return z.call(this,1,...t)};o.prototype.minus=function(...t){return z.call(this,-1,...t)};function z(t,...e){let n=e[0],u=e[1];if(Number.isFinite(n)&&!Number.isFinite(u))return this.clone(this.numeric()+n);let i=null;if(v(n)){if(!Y(n))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");i=n}else if(Number.isFinite(n)||Array.isArray(n)){let h=e.flat().filter(d=>Number.isSafeInteger(d));if(h.length!==e.flat().length)throw RangeError("Should be safe integers");if(h.length>7)throw RangeError("Too many numbers");i={year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5],millisecond:e[6]}}else throw TypeError();let a=this.nativeDate(),c=this[r].localtime?"":"UTC";if(D(i,"year")||D(i,"month")){let h=this.year()+t*(i.year??0),d=this.month()+t*(i.month??0),g=new Date(a.getTime());g[`set${c}FullYear`](h,d,0);let M=g.getDate();M<this.day()?a[`set${c}FullYear`](h,g[`get${c}Month`](),M):a[`set${c}FullYear`](h,d-1)}return D(i,"day")&&a[`set${c}Date`](a[`get${c}Date`]()+t*i.day),[["hour","Hours"],["minute","Minutes"],["second","Seconds"],["millisecond","Milliseconds"]].forEach(([h,d])=>{D(i,h)&&a[`setUTC${d}`](a[`getUTC${d}`]()+t*i[h])}),this.clone(T(this[r].ambiguousAsDst,a))}var f=Symbol("QronoDate.internal");function s(...t){if(!new.target)return new s(...t);let e=this[f]={datetime:null},n=null;t[0]instanceof s&&(n=t.shift().toDatetime());let u=t[0],i=t[1];return Number.isFinite(u)&&!Number.isFinite(i)&&(t[0]*=b),n=(n?n.clone(...t):k(...t)).startOfDay(),e.datetime=k({localtime:!1},n.toObject()),this}s.prototype.toString=function(){return this[f].datetime.toString().substring(0,10)};s.prototype.valueOf=function(){return this[f].datetime/b};s.prototype.clone=function(...t){return new s(this,...t)};s.prototype.toDatetime=function(){return k(this[f].datetime.toArray())};s.prototype.numeric=function(){return this[f].datetime.numeric()/b};s.prototype.startOfYear=function(){return new s(this[f].datetime.startOfYear())};s.prototype.startOfMonth=function(){return new s(this[f].datetime.startOfMonth())};["year","month","day"].forEach(t=>{s.prototype[t]=function(e){return l(e)?new s(this[f].datetime[t](e)):this[f].datetime[t]()}});["dayOfWeek","dayOfYear","weekOfYear","yearOfWeek","isLeapYear","daysInMonth","daysInYear","weeksInYear"].forEach(t=>{s.prototype[t]=function(){return this[f].datetime[t]()}});s.prototype.isDstTransitionDay=function(){return this[f].datetime.localtime(!0).isDstTransitionDay()};s.prototype.endOfYear=function(){return this.clone({month:12,day:31})};s.prototype.endOfMonth=function(){return this.clone({day:this.daysInMonth()})};s.prototype.plus=function(...t){return this[f].datetime.plus(...t).toDate()};s.prototype.minus=function(...t){return this[f].datetime.minus(...t).toDate()};})();
//# sourceMappingURL=qrono.min.js.map

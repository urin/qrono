var Qrono=(function(c){"use strict";var ct=Object.defineProperty;var K=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var x=(c,p,f)=>p in c?ct(c,p,{enumerable:!0,configurable:!0,writable:!0,value:f}):c[p]=f,H=(c,p)=>{for(var f in p||(p={}))ft.call(p,f)&&x(c,f,p[f]);if(K)for(var f of K(p))ht.call(p,f)&&x(c,f,p[f]);return c};const p=new Date(1915,0,1,12,0,0,0),f=7,P=24,Y=60,N=Y*P,j=60,tt=j*Y*P,W=1e3,k=j*W,U=tt*W,R=1,L=2,A=3,T=4,B=5,Q=6,z=7;function b(t,...e){return e.flat().some(t.hasOwnProperty,t)}function F(t){return Object.entries(t).filter(([,e])=>!et(e)).map(([e])=>e)}function m(t){return t!==void 0}function et(t){return t instanceof Function}function nt(t){return typeof t=="string"||t instanceof String}function C(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Z(t){return!isNaN(t.getTime())}function E(t){return b(t,["year","month","day","hour","minute","second","millisecond"])}function I(t,e){const i=e.getTime(),l=new Date(i),a=new Date(i),r=t?1:-1;a.setDate(e.getDate()+r);const u=a.getTimezoneOffset()-e.getTimezoneOffset();if(t&&u<0||!t&&u>0){const O=new Date(i).setMinutes(e.getMinutes()+r*u),S=new Date(i).setUTCMinutes(e.getUTCMinutes()+r*u);O!==S&&(O-S)/k!==u&&l.setUTCMinutes(e.getUTCMinutes()+r*u)}return l}const $=n;n.date=o;const g={localtime:!1,ambiguousAsDst:!1};F(g).forEach(t=>{n[t]=function(e){return m(e)?(g[t]=e,this):g[t]}}),n.context=function(t){return m(t)?(F(g).filter(e=>b(t,e)).forEach(e=>{g[e]=t[e]}),this):H({},g)},n.asUtc=function(){return g.localtime=!1,this},n.asLocaltime=function(){return g.localtime=!0,this},Object.assign(n,{monday:R,tuesday:L,wednesday:A,thursday:T,friday:B,saturday:Q,sunday:z});const s=Symbol("Qrono.internal");function n(...t){var a;if(!new.target)return new n(...t);const e=this[s]={nativeDate:null,localtime:!1,ambiguousAsDst:!1,set:st,parse:ut,valid:it,context:ot,getNative:rt};if(e.context(g),t[0]instanceof n){const r=t.shift();F(e).forEach(u=>{e[u]=r[u]()})}C(t[0])&&!E(t[0])&&e.context(t.shift());const i=t[0],l=t[1];if(i==null)(a=e.nativeDate)!=null||(e.nativeDate=new Date);else if(i instanceof Date)e.nativeDate=new Date(i.getTime());else if(nt(i))e.parse(i);else if(C(i)){if(!E(i))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");e.set(i)}else if(Number.isFinite(i)&&!Number.isFinite(l))e.nativeDate=new Date(i);else if(Number.isFinite(i)||Array.isArray(i)){const r=t.flat().filter(u=>Number.isSafeInteger(u));if(r.length!==t.flat().length)throw RangeError("Should be safe integers");if(r.length>7)throw RangeError("Too many numbers");e.set({year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]})}else throw TypeError(`Invalid argument ${t}`);return this}function it(){return Z(this.nativeDate)}function ot(t){if(t)return F(g).filter(e=>b(t,e)).forEach(e=>{this[e]=t[e]}),this}function rt(t){return this.nativeDate[`get${this.localtime?"":"UTC"}${t}`]()}function st(t){var i,l,a,r,u,O,S,d,D,w,M,V,G,J,X,_;const e=H({},t);if(e.month=e.month&&e.month-1,this.localtime){const y=(i=this.nativeDate)!=null?i:new Date(0,0),v=new Date(p.getTime());v.setFullYear((l=e.year)!=null?l:y.getFullYear(),(a=e.month)!=null?a:y.getMonth(),(r=e.day)!=null?r:y.getDate()),v.setHours((u=e.hour)!=null?u:y.getHours(),(O=e.minute)!=null?O:y.getMinutes(),(S=e.second)!=null?S:y.getSeconds(),(d=e.millisecond)!=null?d:y.getMilliseconds()),this.nativeDate=I(this.ambiguousAsDst,v)}else{const y=(D=this.nativeDate)!=null?D:new Date(0),v=new Date(0);v.setUTCFullYear((w=e.year)!=null?w:y.getUTCFullYear(),(M=e.month)!=null?M:y.getUTCMonth(),(V=e.day)!=null?V:y.getUTCDate()),v.setUTCHours((G=e.hour)!=null?G:y.getUTCHours(),(J=e.minute)!=null?J:y.getUTCMinutes(),(X=e.second)!=null?X:y.getUTCSeconds(),(_=e.millisecond)!=null?_:y.getUTCMilliseconds()),this.nativeDate=v}return this}const at=new RegExp("^(\\d{4})(?:[-/]?([0-2]?\\d)(?:[-/]?([0-3]?\\d))?)?(?:[T\\s]([0-2]?\\d)(?::([0-5]?\\d)?(?::([0-6]?\\d)?(?:[.:](\\d{1,3})?\\d*)?)?)?)?(Z|[-+]\\d{2}:?\\d{2})?$");function ut(t){var M;const e=t.trim().toUpperCase(),i=e.match(at);if(!i)throw RangeError(`Failed to parse '${t}'. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);const[l,a,r,u,O,S,d,D]=[+i[1],+i[2]||1,+i[3]||1,+i[4]||0,+i[5]||0,+i[6]||0,+((M=i[7])==null?void 0:M.padStart(3,"0"))||0,i[8]],w=new Date(e);if(!Z(w))throw RangeError(`Failed to parse '${t}' by Date. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);return D?this.nativeDate=w:this.localtime?this.nativeDate=I(this.ambiguousAsDst,w):this.set({year:l,month:a,day:r,hour:u,minute:O,second:S,millisecond:d}),this}n.prototype.toString=function(){if(this[s].localtime){const t=this[s].nativeDate,e=-t.getTimezoneOffset(),i=Math.abs(e);return`${String(t.getFullYear()).padStart(4,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}T${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}.${String(t.getMilliseconds()).padStart(3,"0")}${(e>=0?"+":"-")+String(Math.trunc(i/Y)).padStart(2,"0")+":"+String(i%Y).padStart(2,"0")}`}return this[s].nativeDate.toISOString()},n.prototype.valueOf=function(){return this[s].nativeDate.valueOf()},n.prototype.clone=function(...t){return new n(this,...t)},n.prototype.context=function(t){return m(t)?this.clone(t):{localtime:this[s].localtime,ambiguousAsDst:this[s].ambiguousAsDst}},n.prototype.nativeDate=function(){return new Date(this[s].nativeDate.getTime())},n.prototype.offset=function(){return this[s].localtime?-this[s].nativeDate.getTimezoneOffset():0},n.prototype.localtime=function(t){return m(t)?this.clone({localtime:t}):this[s].localtime},n.prototype.ambiguousAsDst=function(t){return m(t)?this.clone({ambiguousAsDst:t}):this[s].ambiguousAsDst},n.prototype.valid=function(){return this[s].valid()},n.prototype.numeric=function(){return this[s].nativeDate.getTime()},n.prototype.toObject=function(){return{year:this.year(),month:this.month(),day:this.day(),hour:this.hour(),minute:this.minute(),second:this.second(),millisecond:this.millisecond()}},n.prototype.toArray=function(){return[this.year(),this.month(),this.day(),this.hour(),this.minute(),this.second(),this.millisecond()]},n.prototype.toDate=function(...t){return new o(this.clone(...t))},n.prototype.asUtc=function(){return this.clone({localtime:!1})},n.prototype.asLocaltime=function(){return this.clone({localtime:!0})},n.prototype.year=function(t){return m(t)?this.clone({year:t}):this[s].getNative("FullYear")},n.prototype.month=function(t){return m(t)?this.clone({month:t}):this[s].getNative("Month")+1},n.prototype.day=function(t){return m(t)?this.clone({day:t}):this[s].getNative("Date")},n.prototype.hour=function(t){return m(t)?this.clone({hour:t}):this[s].getNative("Hours")},n.prototype.minute=function(t){return m(t)?this.clone({minute:t}):this[s].getNative("Minutes")},n.prototype.second=function(t){return m(t)?this.clone({second:t}):this[s].getNative("Seconds")},n.prototype.millisecond=function(t){return m(t)?this.clone({millisecond:t}):this[s].getNative("Milliseconds")},n.prototype.dayOfWeek=function(){return 1+(this[s].getNative("Day")-1+f)%f},n.prototype.dayOfYear=function(){const t=this.toDate();return 1+t-t.startOfYear()},n.prototype.weekOfYear=function(){const t=this.toDate(),e=t.day(t.day()-t.dayOfWeek()+T),i=e.startOfYear(),l=i.dayOfWeek()===T?i:i.day(1+(T-i.dayOfWeek()+f)%f);return 1+Math.ceil((e-l)/f)},n.prototype.yearOfWeek=function(){const t=this.toDate();return t.day(t.day()-t.dayOfWeek()+T).year()},n.prototype.isLeapYear=function(){const t=this.year();return t%4===0&&(t%100!==0||t%400===0)},n.prototype.hasDstInYear=function(){if(!this[s].localtime)return!1;const t=this.offset();return[3,6,9,12].map(e=>this.month(e).offset()).some(e=>e!==t)},n.prototype.isInDst=function(){return this[s].localtime?this.offset()===Math.max(...[3,6,9,12].map(t=>this.month(t).offset())):!1},n.prototype.isDstTransitionDay=function(){return this[s].localtime?this.minutesInDay()!==N:!1},n.prototype.minutesInDay=function(){if(!this[s].localtime)return N;const t=this.startOfDay(),e=t.plus({day:1}).startOfDay();return t.day()===e.day()?N:(e-t)/k},n.prototype.daysInMonth=function(){const t=[31,28,31,30,31,30,31,31,30,31,30,31],e=this.month();return t[e-1]+(this.isLeapYear()&&e===2?1:0)},n.prototype.daysInYear=function(){return this.isLeapYear()?366:365},n.prototype.weeksInYear=function(){const t=this.toDate({month:12,day:31}),e=t.minus({year:1});return t.dayOfWeek()===T||e.dayOfWeek()===A?53:52},n.prototype.startOfYear=function(){return this.clone({month:1,day:1,hour:0,minute:0,second:0,millisecond:0})},n.prototype.startOfMonth=function(){return this.clone({day:1,hour:0,minute:0,second:0,millisecond:0})},n.prototype.startOfDay=function(){return this.clone({hour:0,minute:0,second:0,millisecond:0})},n.prototype.startOfHour=function(){return this.clone({minute:0,second:0,millisecond:0})},n.prototype.startOfMinute=function(){return this.clone({second:0,millisecond:0})},n.prototype.startOfSecond=function(){return this.clone({millisecond:0})},n.prototype.isSame=function(t){return+this==+t},n.prototype.isBefore=function(t){return this<t},n.prototype.isAfter=function(t){return this>t},n.prototype.isSameOrBefore=function(t){return this<=t},n.prototype.isSameOrAfter=function(t){return this>=t},n.prototype.isBetween=function(t,e){return t<=this&&this<=e||e<=this&&this<=t},n.prototype.plus=function(...t){return q.call(this,1,...t)},n.prototype.minus=function(...t){return q.call(this,-1,...t)};function q(t,...e){var O,S;const i=e[0],l=e[1];if(Number.isFinite(i)&&!Number.isFinite(l))return this.clone(this.numeric()+i);let a=null;if(C(i)){if(!E(i))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");a=i}else if(Number.isFinite(i)||Array.isArray(i)){const d=e.flat().filter(D=>Number.isSafeInteger(D));if(d.length!==e.flat().length)throw RangeError("Should be safe integers");if(d.length>7)throw RangeError("Too many numbers");a={year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5],millisecond:e[6]}}else throw TypeError();const r=this.nativeDate(),u=this[s].localtime?"":"UTC";if(b(a,"year")||b(a,"month")){const d=this.year()+t*((O=a.year)!=null?O:0),D=this.month()+t*((S=a.month)!=null?S:0),w=new Date(r.getTime());w[`set${u}FullYear`](d,D,0);const M=w.getDate();M<this.day()?r[`set${u}FullYear`](d,w[`get${u}Month`](),M):r[`set${u}FullYear`](d,D-1)}return b(a,"day")&&r[`set${u}Date`](r[`get${u}Date`]()+t*a.day),[["hour","Hours"],["minute","Minutes"],["second","Seconds"],["millisecond","Milliseconds"]].forEach(([d,D])=>{b(a,d)&&r[`setUTC${D}`](r[`getUTC${D}`]()+t*a[d])}),this.clone(I(this[s].ambiguousAsDst,r))}const h=Symbol("QronoDate.internal");function o(...t){if(!new.target)return new o(...t);const e=this[h]={datetime:null};let i=null;t[0]instanceof o&&(i=t.shift().toDatetime());const l=t[0],a=t[1];return Number.isFinite(l)&&!Number.isFinite(a)&&(t[0]*=U),i=(i?i.clone(...t):$(...t)).startOfDay(),e.datetime=$({localtime:!1},i.toObject()),this}return o.prototype.toString=function(){return this[h].datetime.toString().substring(0,10)},o.prototype.valueOf=function(){return this[h].datetime/U},o.prototype.valid=function(){return this[h].datetime.valid()},o.prototype.clone=function(...t){return new o(this,...t)},o.prototype.toDatetime=function(){return $(this[h].datetime.toArray())},o.prototype.numeric=function(){return this[h].datetime.numeric()/U},o.prototype.toObject=function(){return{year:this.year(),month:this.month(),day:this.day()}},o.prototype.toArray=function(){return[this.year(),this.month(),this.day()]},o.prototype.startOfYear=function(){return new o(this[h].datetime.startOfYear())},o.prototype.startOfMonth=function(){return new o(this[h].datetime.startOfMonth())},o.prototype.startOfDay=function(){return this[h].datetime.clone()},["year","month","day"].forEach(t=>{o.prototype[t]=function(e){return m(e)?new o(this[h].datetime[t](e)):this[h].datetime[t]()}}),["dayOfWeek","dayOfYear","weekOfYear","yearOfWeek","isLeapYear","daysInMonth","daysInYear","weeksInYear"].forEach(t=>{o.prototype[t]=function(){return this[h].datetime[t]()}}),["minutesInDay","hasDstInYear","isDstTransitionDay"].forEach(t=>{o.prototype[t]=function(){return this[h].datetime.localtime(!0)[t]()}}),o.prototype.endOfYear=function(){return this.clone({month:12,day:31})},o.prototype.endOfMonth=function(){return this.clone({day:this.daysInMonth()})},o.prototype.isSame=function(t){return+this==+t},o.prototype.isBefore=function(t){return this<t},o.prototype.isAfter=function(t){return this>t},o.prototype.isSameOrBefore=function(t){return this<=t},o.prototype.isSameOrAfter=function(t){return this>=t},o.prototype.isBetween=function(t,e){return t<=this&&this<=e||e<=this&&this<=t},o.prototype.plus=function(...t){return this[h].datetime.plus(...t).toDate()},o.prototype.minus=function(...t){return this[h].datetime.minus(...t).toDate()},c.friday=B,c.monday=R,c.qrono=$,c.saturday=Q,c.sunday=z,c.thursday=T,c.tuesday=L,c.wednesday=A,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c})({});
//# sourceMappingURL=qrono.min.js.map

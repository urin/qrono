var Qrono=(function(f){"use strict";var dt=Object.defineProperty;var et=Object.getOwnPropertySymbols;var mt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var nt=(f,g,h)=>g in f?dt(f,g,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[g]=h,P=(f,g)=>{for(var h in g||(g={}))mt.call(g,h)&&nt(f,h,g[h]);if(et)for(var h of et(g))pt.call(g,h)&&nt(f,h,g[h]);return f};const g=new Date(1915,0,1,12,0,0,0),h=7,R=24,N=60,H=N*R,W=60,ot=W*N*R,j=1e3,it=W*j,I=ot*j,L=1,B=2,E=3,v=4,Q=5,z=6,q=7;function T(t,...e){return e.flat().some(t.hasOwnProperty,t)}function $(t){return Object.entries(t).filter(([,e])=>!rt(e)).map(([e])=>e)}function m(t){return t!==void 0}function rt(t){return t instanceof Function}function st(t){return typeof t=="string"||t instanceof String}function k(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Z(t){return!Number.isNaN(t.getTime())}function U(t){return T(t,["year","month","day","hour","minute","second","millisecond"])}function G(t,e,n){const c=e.getTime(),a=new Date(c);if(t)return a;const i=new Date(c);i.setDate(e.getDate()+1);const u=new Date(c);u.setDate(e.getDate()-1);const p=i.getTimezoneOffset()-u.getTimezoneOffset();if(p===0)return a;const l=new Date(new Date(c).setUTCMinutes(e.getUTCMinutes()+p));return n?l:l.getHours()!==e.getHours()||l.getMinutes()!==e.getMinutes()?a:l}const C=o;o.date=r;const S={localtime:!1,interpretAsDst:!0};for(const t of $(S))o[t]=function(e){return m(e)?(S[t]=e,this):S[t]};o.context=function(t){if(m(t)){for(const e of $(S))if(T(t,e))return S[e]=t[e],this}return P({},S)},o.asUtc=function(){return S.localtime=!1,this},o.asLocaltime=function(){return S.localtime=!0,this},Object.assign(o,{monday:L,tuesday:B,wednesday:E,thursday:v,friday:Q,saturday:z,sunday:q});const s=Symbol("Qrono.internal");function o(...t){var a;if(!new.target)return new o(...t);const e={nativeDate:null,localtime:!1,interpretAsDst:!1,set:ft,parse:lt,valid:at,context:ut,getNative:ct};if(this[s]=e,e.context(S),t[0]instanceof o){const i=t.shift();for(const u of $(e))e[u]=i[u]()}k(t[0])&&!U(t[0])&&e.context(t.shift());const n=t[0],c=t[1];if(n==null)(a=e.nativeDate)!=null||(e.nativeDate=new Date);else if(n instanceof Date)e.nativeDate=new Date(n.getTime());else if(st(n))e.parse(n);else if(k(n)){if(!U(n))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");e.set(n)}else if(Number.isFinite(n)&&!Number.isFinite(c))e.nativeDate=new Date(n);else if(Number.isFinite(n)||Array.isArray(n)){const i=t.flat().filter(u=>Number.isSafeInteger(u));if(i.length!==t.flat().length)throw RangeError("Should be safe integers");if(i.length>7)throw RangeError("Too many numbers");e.set({year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]})}else throw TypeError(`Invalid argument ${t}`);return this}function at(){return Z(this.nativeDate)}function ut(t){if(t){for(const e of $(S))T(t,e)&&(this[e]=t[e]);return this}}function ct(t){return this.nativeDate[`get${this.localtime?"":"UTC"}${t}`]()}function ft(t){var n,c,a,i,u,p,l,y,w,Y,A,J,X,_,x,tt;const e=P({},t);if(e.month=e.month&&e.month-1,this.localtime){const D=!T(t,"hour","minute","second","millisecond"),F=D?!0:this.interpretAsDst,b=(n=this.nativeDate)!=null?n:new Date(0,0),M=new Date(g.getTime()),O={year:(c=e.year)!=null?c:b.getFullYear(),month:(a=e.month)!=null?a:b.getMonth(),day:(i=e.day)!=null?i:b.getDate(),hour:(u=e.hour)!=null?u:D?0:b.getHours(),minute:(p=e.minute)!=null?p:D?0:b.getMinutes(),second:(l=e.second)!=null?l:D?0:b.getSeconds(),millisecond:(y=e.millisecond)!=null?y:D?0:b.getMilliseconds()};M.setFullYear(O.year,O.month,O.day),M.setHours(O.hour,O.minute,O.second,O.millisecond);const yt=O.year*1e8+O.month*1e6+O.day*1e4+O.hour*100+O.minute<M.getFullYear()*1e8+M.getMonth()*1e6+M.getDate()*1e4+M.getHours()*100+M.getMinutes();this.nativeDate=G(F,M,yt)}else{const D=(w=this.nativeDate)!=null?w:new Date(0),F=new Date(0);F.setUTCFullYear((Y=e.year)!=null?Y:D.getUTCFullYear(),(A=e.month)!=null?A:D.getUTCMonth(),(J=e.day)!=null?J:D.getUTCDate()),F.setUTCHours((X=e.hour)!=null?X:D.getUTCHours(),(_=e.minute)!=null?_:D.getUTCMinutes(),(x=e.second)!=null?x:D.getUTCSeconds(),(tt=e.millisecond)!=null?tt:D.getUTCMilliseconds()),this.nativeDate=F}return this}const ht=new RegExp("^(\\d{4})(?:[-/]?([0-2]?\\d)(?:[-/]?([0-3]?\\d))?)?(?:[T\\s]([0-2]?\\d)(?::([0-5]?\\d)?(?::([0-6]?\\d)?(?:[.:](\\d{1,3})?\\d*)?)?)?)?(Z|[-+]\\d{2}:?\\d{2})?$");function lt(t){var y;const e=t.trim().toUpperCase(),n=e.match(ht);if(!n)throw RangeError(`Failed to parse '${t}'. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);const c=n[4]!==void 0,[a,i,u,p]=[+n[1],+n[2]||1,+n[3]||1,n[8]],l=new Date(e);if(!Z(l))throw RangeError(`Failed to parse '${t}' by Date. Should be yyyy[[-|/]MM[[-|/]DD]][(T| )HH:mm[:ss[(.|:)SSS]]][Z|(+|-)hh:mm]`);return p?this.nativeDate=l:c?this.set({year:a,month:i,day:u,hour:+n[4]||0,minute:+n[5]||0,second:+n[6]||0,millisecond:+((y=n[7])==null?void 0:y.padStart(3,"0"))||0}):this.set({year:a,month:i,day:u}),this}o.prototype.toString=function(){if(this[s].localtime){const t=this[s].nativeDate,e=-t.getTimezoneOffset(),n=Math.abs(e);return`${String(t.getFullYear()).padStart(4,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}T${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}.${String(t.getMilliseconds()).padStart(3,"0")}${(e>=0?"+":"-")+String(Math.trunc(n/N)).padStart(2,"0")+":"+String(n%N).padStart(2,"0")}`}return this[s].nativeDate.toISOString()},o.prototype.valueOf=function(){return this[s].nativeDate.valueOf()},o.prototype.clone=function(...t){return new o(this,...t)},o.prototype.context=function(t){return m(t)?this.clone(t):{localtime:this[s].localtime,interpretAsDst:this[s].interpretAsDst}},o.prototype.nativeDate=function(){return new Date(this[s].nativeDate.getTime())},o.prototype.offset=function(){return this[s].localtime?-this[s].nativeDate.getTimezoneOffset():0},o.prototype.localtime=function(t){return m(t)?this.clone({localtime:t}):this[s].localtime},o.prototype.interpretAsDst=function(t){return m(t)?this.clone({interpretAsDst:t}):this[s].interpretAsDst},o.prototype.valid=function(){return this[s].valid()},o.prototype.numeric=function(){return this[s].nativeDate.getTime()},o.prototype.toObject=function(){return{year:this.year(),month:this.month(),day:this.day(),hour:this.hour(),minute:this.minute(),second:this.second(),millisecond:this.millisecond()}},o.prototype.toArray=function(){return[this.year(),this.month(),this.day(),this.hour(),this.minute(),this.second(),this.millisecond()]},o.prototype.toDate=function(...t){return new r(this.clone(...t))},o.prototype.asUtc=function(){return this.clone({localtime:!1})},o.prototype.asLocaltime=function(){return this.clone({localtime:!0})},o.prototype.year=function(t){return m(t)?this.clone({year:t}):this[s].getNative("FullYear")},o.prototype.month=function(t){return m(t)?this.clone({month:t}):this[s].getNative("Month")+1},o.prototype.day=function(t){return m(t)?this.clone({day:t}):this[s].getNative("Date")},o.prototype.hour=function(t){return m(t)?this.clone({hour:t}):this[s].getNative("Hours")},o.prototype.minute=function(t){return m(t)?this.clone({minute:t}):this[s].getNative("Minutes")},o.prototype.second=function(t){return m(t)?this.clone({second:t}):this[s].getNative("Seconds")},o.prototype.millisecond=function(t){return m(t)?this.clone({millisecond:t}):this[s].getNative("Milliseconds")},o.prototype.dayOfWeek=function(){return 1+(this[s].getNative("Day")-1+h)%h},o.prototype.dayOfYear=function(){const t=this.toDate();return 1+t-t.startOfYear()},o.prototype.weekOfYear=function(){const t=this.toDate(),e=t.day(t.day()-t.dayOfWeek()+v),n=e.startOfYear(),c=n.dayOfWeek()===v?n:n.day(1+(v-n.dayOfWeek()+h)%h);return 1+Math.ceil((e-c)/h)},o.prototype.yearOfWeek=function(){const t=this.toDate();return t.day(t.day()-t.dayOfWeek()+v).year()},o.prototype.isLeapYear=function(){const t=this.year();return t%4===0&&(t%100!==0||t%400===0)},o.prototype.hasDstInYear=function(){if(!this[s].localtime)return!1;const t=this.offset();return[3,6,9,12].map(e=>this.month(e).offset()).some(e=>e!==t)},o.prototype.isInDst=function(){return this[s].localtime?this.offset()===Math.max(...[3,6,9,12].map(t=>this.month(t).offset())):!1},o.prototype.isDstTransitionDay=function(){return this[s].localtime?this.minutesInDay()!==H:!1},o.prototype.minutesInDay=function(){if(!this[s].localtime)return H;const t=this.context({interpretAsDst:!0}).startOfDay(),e=t.plus({day:1}).startOfDay();return t.day()===e.day()?H:(e-t)/it},o.prototype.daysInMonth=function(){const t=[31,28,31,30,31,30,31,31,30,31,30,31],e=this.month();return t[e-1]+(this.isLeapYear()&&e===2?1:0)},o.prototype.daysInYear=function(){return this.isLeapYear()?366:365},o.prototype.weeksInYear=function(){const t=this.toDate({month:12,day:31}),e=t.minus({year:1});return t.dayOfWeek()===v||e.dayOfWeek()===E?53:52},o.prototype.startOfYear=function(){return this.clone({month:1,day:1,hour:0,minute:0,second:0,millisecond:0})},o.prototype.startOfMonth=function(){return this.clone({day:1,hour:0,minute:0,second:0,millisecond:0})},o.prototype.startOfDay=function(){const t=this.clone({interpretAsDst:!0},{hour:0,minute:0,second:0,millisecond:0}).numeric();return this.clone(t)},o.prototype.startOfHour=function(){return this.clone({minute:0,second:0,millisecond:0})},o.prototype.startOfMinute=function(){return this.clone({second:0,millisecond:0})},o.prototype.startOfSecond=function(){return this.clone({millisecond:0})},o.prototype.isSame=function(t){return+this==+t},o.prototype.isBefore=function(t){return this<t},o.prototype.isAfter=function(t){return this>t},o.prototype.isSameOrBefore=function(t){return this<=t},o.prototype.isSameOrAfter=function(t){return this>=t},o.prototype.isBetween=function(t,e){return t<=this&&this<=e||e<=this&&this<=t},o.prototype.plus=function(...t){return K.call(this,1,...t)},o.prototype.minus=function(...t){return K.call(this,-1,...t)};function K(t,...e){var p,l;const n=e[0],c=e[1];if(Number.isFinite(n)&&!Number.isFinite(c))return this.clone(this.numeric()+n);let a=null;if(k(n)){if(!U(n))throw RangeError("Missing time field (year, minute, day, hour, minute, second or millisecond)");a=n}else if(Number.isFinite(n)||Array.isArray(n)){const y=e.flat().filter(w=>Number.isSafeInteger(w));if(y.length!==e.flat().length)throw RangeError("Should be safe integers");if(y.length>7)throw RangeError("Too many numbers");a={year:e[0],month:e[1],day:e[2],hour:e[3],minute:e[4],second:e[5],millisecond:e[6]}}else throw TypeError();const i=this.nativeDate(),u=this[s].localtime?"":"UTC";if(T(a,"year")||T(a,"month")){const y=this.year()+t*((p=a.year)!=null?p:0),w=this.month()+t*((l=a.month)!=null?l:0),Y=new Date(i.getTime());Y[`set${u}FullYear`](y,w,0);const A=Y[`get${u}Date`]();A<this.day()?i[`set${u}FullYear`](y,Y[`get${u}Month`](),A):i[`set${u}FullYear`](y,w-1)}T(a,"day")&&i[`set${u}Date`](i[`get${u}Date`]()+t*a.day);for(const[y,w]of[["hour","Hours"],["minute","Minutes"],["second","Seconds"],["millisecond","Milliseconds"]])T(a,y)&&i[`setUTC${w}`](i[`getUTC${w}`]()+t*a[y]);return this.clone(G(this[s].interpretAsDst,i,!1))}const d=Symbol("QronoDate.internal");function r(...t){if(!new.target)return new r(...t);const e={datetime:null};this[d]=e;let n=null;t[0]instanceof r?n=t.shift().toDatetime():t[0]instanceof o&&(n=t.shift());const c=t[0],a=t[1];return Number.isFinite(c)&&!Number.isFinite(a)&&(t[0]=Math.floor(c)*I),n?n=n.clone(...t):n=C(...t),e.datetime=n.startOfDay(),this}r.prototype.toString=function(){return this[d].datetime.toString().substring(0,10)},r.prototype.valueOf=function(){return this[d].datetime/I},r.prototype.valid=function(){return this[d].datetime.valid()},r.prototype.clone=function(...t){return new r(this,...t)},r.prototype.toDatetime=function(){return C(this[d].datetime.toArray())},r.prototype.numeric=function(){return this[d].datetime.numeric()/I},r.prototype.toObject=function(){return{year:this.year(),month:this.month(),day:this.day()}},r.prototype.toArray=function(){return[this.year(),this.month(),this.day()]},r.prototype.startOfYear=function(){return new r(this[d].datetime.startOfYear())},r.prototype.startOfMonth=function(){return new r(this[d].datetime.startOfMonth())},r.prototype.startOfDay=function(){return this[d].datetime.clone()};for(const t of["year","month","day"])r.prototype[t]=function(e){return m(e)?new r(this[d].datetime[t](e)):this[d].datetime[t]()};for(const t of["dayOfWeek","dayOfYear","weekOfYear","yearOfWeek","isLeapYear","daysInMonth","daysInYear","weeksInYear"])r.prototype[t]=function(){return this[d].datetime[t]()};for(const t of["minutesInDay","hasDstInYear","isDstTransitionDay"])r.prototype[t]=function(){return C({interpretAsDst:!0},this[d].datetime.toArray().slice(0,3))[t]()};r.prototype.endOfYear=function(){return this.clone({month:12,day:31})},r.prototype.endOfMonth=function(){return this.clone({day:this.daysInMonth()})},r.prototype.isSame=function(t){return+this==+t},r.prototype.isBefore=function(t){return this<t},r.prototype.isAfter=function(t){return this>t},r.prototype.isSameOrBefore=function(t){return this<=t},r.prototype.isSameOrAfter=function(t){return this>=t},r.prototype.isBetween=function(t,e){return t<=this&&this<=e||e<=this&&this<=t},r.prototype.plus=function(...t){return V.call(this,1,...t)},r.prototype.minus=function(...t){return V.call(this,-1,...t)};function V(t,...e){var u,p,l;const n=e[0],c=e[1],a=this[d].datetime;if(Number.isFinite(n)&&!Number.isFinite(c))return a.plus({day:t*n}).toDate();let i=null;if(k(n)&&U(n))i={year:t*((u=n.year)!=null?u:0),month:t*((p=n.month)!=null?p:0),day:t*((l=n.day)!=null?l:0)};else if(Number.isFinite(n)){if(e.length>3)throw RangeError("Too many arguments");i={year:e[0],month:e[1],day:e[2]}}else if(Array.isArray(n)){if(n.length>3)throw RangeError("Too many elements");i={year:n[0],month:n[1],day:n[2]}}else throw TypeError();return a.plus(i).toDate()}return f.friday=Q,f.monday=L,f.qrono=C,f.saturday=z,f.sunday=q,f.thursday=v,f.tuesday=B,f.wednesday=E,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),f})({});
//# sourceMappingURL=qrono.min.js.map
